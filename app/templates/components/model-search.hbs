<div class="panel panel-transparent">
  <div class="panel-body">
    <h2 class="search">Find an appropriate repository for your data</h2>

    <span class="help-block">The Repository Finder tool helps researchers in the Earth and Space Sciences find an appropriate repository to deposit their research data. Repository Finder uses information about more than 2,000 data repositories from <a href="https://www.re3data.org">re3data</a>. The service is developed as part of the <a href="https://osf.io/jy4d9/">Enabling FAIR Data Project</a>.</span>

    <div class="form-group">
      <label>The subject area of your research</label>
      {{#power-select
        options=subjects
        selected=selectedSubject
        onchange=(action "doSubject")
        as |subj|
      }}
        {{#if (lt subj.id 100)}}
          <strong>{{subj.name}}</strong>
        {{else if (lt subj.id 1000)}}
          <strong>{{subj.name}}</strong>
        {{else}}
          {{subj.name}}
        {{/if}}
      {{/power-select}}
      <span class="help-block">Pick the subject area from the list of re3data subject areas that best describes your research.</span>
    </div>

    <form {{action "doSearch" query on="submit"}} class="form-horizontal">
      <label>Relevant information about the repository</label>
      <div id="search" class="input-group">
        {{input name="query" value=query class="form-control" placeholder='Type to search...' enter=(action 'doSearch')}}
        {{#if hasInput}}
          <span id="search-clear" title="Clear" aria-label="Clear" {{action 'clear'}}>{{fa-icon "times-circle"}}</span>
        {{/if}}
        <div class="input-group-btn">
          <button type="submit" class="btn btn-primary hidden-xs">Search</button>
        </div>
      </div>
      <span class="help-block search-form">Narrow down the list of repositories by respository name, keyword, country, or any other repository information collected by re3data.</span>
    </form>

    
    <div class="form-group">
      <label class="search-form">Other important criteria</label>
      <div class="checkbox">
        <label>
          {{input type="checkbox" name="open" checked=open click=(action 'doOpen' value="target.checked")}} The repository provides open access to its data
        </label>
      </div>
      <span class="help-block">Research data hosted by the repository are accessible without restrictions.</span>

      <div class="checkbox">
        <label>
          {{input type="checkbox" name="certified" checked=certified click=(action 'doCertified' value="target.checked")}} The repository has been certified
        </label>
      </div>
      <span class="help-block">Certified repositories (e.g. via <a href="https://www.coretrustseal.org/">CoreTrustSeal</a>) fulfill a catalogue of requirements that reflect the core characteristics of a trustworthy data repository.</span>

      <div class="checkbox">
        <label>
          {{input type="checkbox" name="pid" checked=pid click=(action 'doPid' value="target.checked")}} The repository uses persistent identifiers
        </label>
      </div>
      <span class="help-block">Persistent identifiers uniquely identifier datasets, enable the linking to publications, authors and funding, and help with discovery.</span>

      <div class="checkbox">
        <label>
          {{input type="checkbox" name="discplinary" checked=disciplinary click=(action 'doDisciplinary' value="target.checked")}} The repository is disciplinary
        </label>
      </div>
      <span class="help-block">Disciplinary (subject) repositories host a collection of research outputs with a common link to a particular subject area, and have expertise in that subject area.</span>
    </div>

    {{#if (gt model.meta.total 1)}}
      {{#if sortable}}
        <div id="sort" class="input-group pull-right">
          <select onchange={{action 'sort' value="target.value"}}>
            {{#each-in formats as |key value|}}
              <option name="sort" value={{key}} selected={{eq sort key}}>{{value}}</option>
            {{/each-in}}
          </select>
        </div>
      {{/if}}

      <h3 class="repository-results">{{pluralize (format-number model.meta.total) modelName}}</h3>
    {{/if}}
  </div>
</div>
